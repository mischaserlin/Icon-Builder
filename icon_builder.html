<!doctype html>
<html>
	<head>
			<title> App Icon Builder </title>
			<link rel="stylesheet" href="bootstrap/css/bootstrap.min.css"/>
			<link rel="stylesheet" type="text/css" href="style/icon_builder.css"/>
	</head>
	<body>
		<div id="iconBuilder" class="container">
			<div class="row">
				<div class="span12">
					<h1>Build your hella cool icon!</h1>
					<p class="center">1. Select as many images form the right as you want.</p> 
					<p class="center">2. Change some image properties and rearrange the layers on the right.</p> 
					<p class="center">3. Preview and approve your icon in the middle.</p>
				</div>
			</div>	
			<div class="row">
				<div class="span4 imageCategories center">
					<h4>Choose your images</h4>
					<select></select>
					<ul id="imageCategory"></ul>
				</div>
				<div class="span4">
					<h4>Preview</h4>
					<div class="previewHolder"></div>	
					<button class="btn btn-primary center approve" type="button">Approve</button>	
				</div>
				<div class="span4">
					<h4 style="margin-left:25px">Arrange Layers</h4>
					<ol id="imageLayersList" class="unstyled">
					</ol>
				</div>
			</div>
		</div>
	<script id="dropdownImageCategories" type="text/x-handlebars-template">
		{{#key_value categories}}
			<option value="{{key}}">
				{{key}}
			</option> 
		{{/key_value}}
	</script>
	<script id="showImagesForCategory" type="text/x-handlebars-template">
		{{#each image}}
			<li>
				<img data-id="{{this.id}}" src="{{this.url}}"></img>
			</li>
		{{/each}}
	</script>
	<script id="imageLayerTemplate" type="text/x-handlebars-template">
		{{#each image}}
	  		<li class="imageLayer row" data-id="{{this.id}}" data-layer-position="{{this.position}}">
	  			<div class="imageLayerLeftSide span1">
	  				<p>{{this.position}}.</p>
	  				<a class="movelayer" type="button"><i class="icon-move"></i></a>
	  			</div>
	  			<div class="imageLayerRightSide span3" ref="tooltip">
		  			<div class="row">
		  				<img class="imageLayerImage" src="{{this.url}}"></img>
		  				<span class="imageLayerName">{{this.name}}</span>
						<a class="deletelayer" type="button" data-position="{{this.position}}" data-name="{{this.name}}" data-url="{{this.url}}"><i class="icon-trash"></i></a>
					</div>
					<div class="fieldLabels row">
						<label class="imageOpacity field">Opacity</label>
						<label class="imageSize field size">Size</label>
						<label class="imageTopPosition field y">Y</label>
						<label class="imageLeftPosition field x">X</label>
					</div>
					<div class="row">
						<input class="imageOpacityField field" type="input" value="{{this.opacity}}" placeholder="0-1" data-id="{{this.id}}"></input>
						<input class="imageSizeField field" type="number" max="288" min="0" value="{{this.size}}" data-id="{{this.id}}"></input>
						<input class="imageTopPositionField field" type="number" max="288" min="-144" value="{{this.top}}" data-id="{{this.id}}"></input>
						<input class="imageLeftPositionField field" type="number" max="288" min="-144" value="{{this.left}}" data-id="{{this.id}}"></input>
					</div>
				</div>
			</li>
		{{/each}}
	</script>
	<script id="iconPreviewTemplate" type="text/x-handlebars-template">
		{{#each layers}}
			<img src="{{this.url}}" data-id="{{this.id}}" style="opacity: {{this.opacity}}; width: {{this.size}}px; height: {{this.size}}px; top: {{top}}px; left: {{left}}px"></img>
		{{/each}}
		<img class="rounded_edges" src="images/effects/rounded_edges.png"></img>
	</script>
	<script src="javascript/jquery-1.7.2.js" type="text/javascript"></script>
	<script src="bootstrap/js/bootstrap.min.js"></script>
	<script src="javascript/handlebars.js" type="text/javascript"></script>
	<script src="javascript/jquery.dragsort-0.5.1.js" type="text/javascript"></script>
	<script src="javascript/icon_builder.js" type="text/javascript"></script>
	</body>
</html>